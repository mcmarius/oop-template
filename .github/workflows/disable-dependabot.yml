name: Disable Dependabot

on:
  push:
    branches: ['**'] # NOTE: replace/update with appropriate branch name(s)
    tags: ['**']
  # pull_request:
  #   branches: ['**'] # NOTE: replace/update with appropriate branch name(s)
  workflow_dispatch: {}
jobs:
  remove-dependabot:
    name: "Remove Dependabot"
    if: github.repository != 'mcmarius/oop-template'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Checkout repo
        run: | # github-actions name and email: https://github.com/orgs/community/discussions/160496#discussioncomment-625461
          git config user.name 'github-actions[bot]'
          git config user.email 'github-actions[bot]@users.noreply.github.com'
          git rm -f .github/dependabot.yml
          git rm -f .github/workflows/disable-dependabot.yml
          git commit -m "Remove Dependabot"
          git push